"0","missing_categories <- gathered_data_imputed %>% "
"0","  group_by(id) %>% "
"0","  summarise("
"0","    missing_cognative = sum((variable %in% c('iqcode_score', 'iqcode_score')) & is.na(value)) > 0,"
"0","    missing_function = sum((variable %in% c('OARS_ADL_ED_0h_recode', 'OARS_ADL_ED_6m_recode')) & is.na(value)) > 0,"
"0","    missing_serum = sum((variable %in% serum_vars) & is.na(value)) > 0"
"0","  ) %>% "
"0","  transmute("
"0","    id = id, "
"0","    cognition_all = !(missing_cognative | missing_serum),"
"0","    cognition_no_serum = !missing_cognative,"
"0","    function_all = !(missing_function | missing_serum),"
"0","    function_no_serum = !missing_function"
"0","  )"
"0","cognition_all <- missing_categories %>% "
"0","  filter(cognition_all) %>% "
"0","  .$id"
"0","cognition_no_serum <- missing_categories %>% "
"0","  filter(cognition_no_serum)%>% "
"0","  .$id"
"0","  "
"0","function_all <- missing_categories %>% "
"0","  filter(function_all)%>% "
"0","  .$id"
"0","function_no_serum <- missing_categories %>% "
"0","  filter(function_no_serum)%>% "
"0","  .$id"
"0","missing_categories %>% "
"0","  gather(model, value, -id) %>% "
"0","  mutate(value = value*1) %>% "
"0","  spread(model, value) %>% "
"0","  select(-id) %>%"
"0","  as.data.frame() %>% "
"0","  UpSetR::upset("
"0","    order.by = 'freq',"
"0","    sets.x.label = 'Sample Size',"
"0","    mainbar.y.label = ""# patients in all selected models"""
"0","    )"
